---
import BaseLayout from './baselayout.astro';
import Subscribe from '../components/subscribe.astro';

const { title, description, pubDate, tags, collection } = Astro.props;
---
<BaseLayout pageTitle={title}>
  <div class="entry-meta">
    <span class="date">{pubDate && new Date(pubDate).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</span>
    {tags && tags.length > 0 && (
      <div class="tags">
        {tags.map((tag: string) => (
          <span class="tag">#{tag} </span>
        ))}
      </div>
    )}
  </div>
  
  {description && <p class="lead">{description}</p>}
  
  <article>
    <slot />
  </article>

  {collection === 'writing' && <Subscribe />}
</BaseLayout>

<style>
  .entry-meta {
    margin-bottom: 2rem;
    color: var(--color-muted);
  }
  .tags {
    display: inline-block;
    margin-left: 1rem;
  }
  .tag {
    font-size: 0.875rem;
  }
  .lead {
    font-size: 1.125rem;
    margin-bottom: 2rem;
    font-style: italic;
  }
</style>